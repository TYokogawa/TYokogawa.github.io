<!DOCTYPE html>
<meta charset="utf-8">
<style>

body {
  font: 10px sans-serif;
}

.chord path {
  fill-opacity: .67;
  stroke: #ADD8E6;
  stroke-width: .5px;
}

</style>
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>

// From http://mkweb.bcgsc.ca/circos/guide/tables/
var matrix = [[0.0, 6.0, 9.0, 0.0, 0.0, 2.0, 1.0, 5.0, 4.0, 6.0, 126.0, 2.0, 237.0, 5.0, 3.0, 1.0, 7.0, 1.0, 100.0, 18.0, 4.0, 14.0, 3.0, 27.0, 554.0, 7.0, 10.0, 4.0, 8.0, 20.0, 59.0, 3.0, 0.0, 4.0, 34.0, 31.0, 38.0, 3.0, 44.0, 12.0, 108.0], [0.0, 9.0, 2.0, 2.0, 4.0, 4.0, 1.0, 2.0, 22.0, 15.0, 837.0, 762.0, 431.0, 10.0, 3.0, 2.0, 7.0, 0.0, 290.0, 26.0, 17.0, 18.0, 3.0, 68.0, 47.0, 3.0, 42.0, 33.0, 42.0, 7.0, 73.0, 0.0, 0.0, 7.0, 53.0, 333.0, 64.0, 5.0, 220.0, 17.0, 58.0], [0.0, 2.0, 66.0, 0.0, 0.0, 1.0, 133.0, 6.0, 1.0, 9.0, 20.0, 6.0, 56.0, 16.0, 2.0, 0.0, 4.0, 2.0, 186.0, 61.0, 3.0, 8.0, 0.0, 20.0, 112.0, 13.0, 4.0, 1.0, 109.0, 7.0, 78.0, 2.0, 0.0, 1.0, 21.0, 12.0, 9.0, 5.0, 40.0, 1.0, 20.0], [0.0, 3.0, 0.0, 16.0, 0.0, 0.0, 0.0, 56.0, 2.0, 5.0, 49.0, 29.0, 158.0, 21.0, 2.0, 11.0, 0.0, 1.0, 115.0, 4.0, 6.0, 10.0, 0.0, 43.0, 16.0, 1.0, 25.0, 21.0, 8.0, 12.0, 102.0, 1.0, 0.0, 3.0, 18.0, 27.0, 2.0, 0.0, 49.0, 1.0, 14.0], [0.0, 2.0, 1.0, 4.0, 0.0, 2.0, 0.0, 5.0, 3.0, 31.0, 45.0, 26.0, 238.0, 17.0, 1.0, 3.0, 0.0, 0.0, 173.0, 7.0, 13.0, 9.0, 0.0, 21.0, 41.0, 3.0, 2.0, 3.0, 21.0, 14.0, 78.0, 1.0, 2.0, 0.0, 41.0, 98.0, 6.0, 11.0, 43.0, 5.0, 37.0], [0.0, 0.0, 3.0, 0.0, 0.0, 9.0, 0.0, 2.0, 1.0, 24.0, 27.0, 5.0, 73.0, 9.0, 5.0, 0.0, 0.0, 0.0, 183.0, 8.0, 9.0, 53.0, 1.0, 7.0, 14.0, 0.0, 4.0, 1.0, 309.0, 8.0, 45.0, 0.0, 0.0, 0.0, 17.0, 11.0, 2.0, 1.0, 42.0, 1.0, 18.0], [0.0, 0.0, 84.0, 0.0, 0.0, 1.0, 63.0, 3.0, 0.0, 7.0, 35.0, 16.0, 97.0, 12.0, 0.0, 0.0, 1.0, 1.0, 148.0, 88.0, 9.0, 31.0, 0.0, 23.0, 59.0, 7.0, 27.0, 2.0, 10.0, 5.0, 58.0, 0.0, 0.0, 6.0, 32.0, 40.0, 4.0, 3.0, 46.0, 4.0, 30.0], [0.0, 2.0, 0.0, 1.0, 0.0, 3.0, 1.0, 75.0, 0.0, 17.0, 127.0, 6.0, 195.0, 44.0, 11.0, 16.0, 7.0, 0.0, 501.0, 25.0, 15.0, 35.0, 0.0, 61.0, 99.0, 1.0, 49.0, 3.0, 34.0, 32.0, 387.0, 2.0, 0.0, 12.0, 58.0, 54.0, 4.0, 3.0, 92.0, 8.0, 40.0], [0.0, 12.0, 1.0, 0.0, 11.0, 1.0, 1.0, 3.0, 1.0, 62.0, 103.0, 15.0, 380.0, 29.0, 3.0, 2.0, 1.0, 0.0, 324.0, 23.0, 4.0, 20.0, 0.0, 44.0, 81.0, 2.0, 7.0, 3.0, 36.0, 32.0, 165.0, 1.0, 0.0, 1.0, 239.0, 199.0, 22.0, 1.0, 93.0, 7.0, 80.0], [0.0, 5.0, 4.0, 1.0, 10.0, 7.0, 1.0, 15.0, 8.0, 62.0, 106.0, 48.0, 351.0, 28.0, 14.0, 2.0, 1.0, 0.0, 244.0, 41.0, 9.0, 48.0, 0.0, 48.0, 187.0, 5.0, 34.0, 3.0, 81.0, 26.0, 125.0, 5.0, 1.0, 5.0, 79.0, 116.0, 12.0, 29.0, 123.0, 6.0, 107.0], [0.0, 118.0, 5.0, 6.0, 2.0, 0.0, 0.0, 82.0, 6.0, 33.0, 178.0, 298.0, 1704.0, 45.0, 12.0, 6.0, 3.0, 3.0, 466.0, 56.0, 102.0, 60.0, 2.0, 284.0, 191.0, 2.0, 27.0, 16.0, 40.0, 17.0, 229.0, 3.0, 3.0, 5.0, 144.0, 936.0, 209.0, 26.0, 869.0, 316.0, 170.0], [0.0, 94.0, 4.0, 5.0, 3.0, 1.0, 0.0, 8.0, 7.0, 30.0, 412.0, 166.0, 3717.0, 40.0, 2.0, 3.0, 4.0, 1.0, 630.0, 20.0, 28.0, 145.0, 0.0, 66.0, 35.0, 2.0, 98.0, 77.0, 40.0, 16.0, 177.0, 3.0, 1.0, 1.0, 81.0, 280.0, 12.0, 62.0, 226.0, 18.0, 30.0], [0.0, 35.0, 6.0, 22.0, 22.0, 7.0, 3.0, 83.0, 38.0, 138.0, 682.0, 230.0, 1288.0, 63.0, 15.0, 9.0, 2.0, 7.0, 819.0, 85.0, 43.0, 123.0, 1.0, 363.0, 292.0, 4.0, 104.0, 45.0, 92.0, 53.0, 443.0, 6.0, 5.0, 12.0, 290.0, 380.0, 72.0, 62.0, 458.0, 42.0, 145.0], [0.0, 2.0, 8.0, 11.0, 1.0, 1.0, 1.0, 72.0, 2.0, 10.0, 29.0, 0.0, 92.0, 0.0, 1.0, 2.0, 0.0, 0.0, 9.0, 162.0, 4.0, 9.0, 0.0, 57.0, 172.0, 8.0, 5.0, 4.0, 20.0, 14.0, 267.0, 0.0, 0.0, 3.0, 96.0, 17.0, 4.0, 2.0, 21.0, 5.0, 56.0], [0.0, 4.0, 3.0, 7.0, 2.0, 2.0, 2.0, 151.0, 0.0, 65.0, 91.0, 20.0, 188.0, 8.0, 0.0, 2.0, 0.0, 2.0, 4.0, 30.0, 7.0, 59.0, 0.0, 25.0, 113.0, 1.0, 25.0, 4.0, 33.0, 168.0, 394.0, 6.0, 2.0, 8.0, 31.0, 70.0, 16.0, 8.0, 57.0, 8.0, 61.0], [0.0, 5.0, 0.0, 266.0, 0.0, 0.0, 0.0, 61.0, 0.0, 0.0, 11.0, 1.0, 221.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.0, 0.0, 25.0, 8.0, 0.0, 5.0, 1.0, 1.0, 11.0, 219.0, 0.0, 0.0, 4.0, 3.0, 3.0, 1.0, 0.0, 7.0, 0.0, 3.0], [0.0, 3.0, 13.0, 0.0, 0.0, 8.0, 1.0, 8.0, 0.0, 11.0, 3.0, 2.0, 39.0, 13.0, 0.0, 0.0, 0.0, 0.0, 6.0, 30.0, 9.0, 61.0, 0.0, 24.0, 302.0, 1.0, 1.0, 1.0, 60.0, 6.0, 60.0, 55.0, 1.0, 3.0, 30.0, 3.0, 7.0, 4.0, 23.0, 1.0, 27.0], [0.0, 1.0, 3.0, 0.0, 0.0, 1.0, 5.0, 2.0, 0.0, 4.0, 43.0, 13.0, 96.0, 11.0, 1.0, 0.0, 0.0, 4.0, 147.0, 108.0, 8.0, 10.0, 0.0, 39.0, 66.0, 26.0, 14.0, 0.0, 10.0, 13.0, 56.0, 1.0, 0.0, 3.0, 159.0, 46.0, 1.0, 1.0, 38.0, 7.0, 37.0], [0.0, 12.0, 54.0, 4.0, 3.0, 9.0, 3.0, 97.0, 4.0, 82.0, 109.0, 20.0, 587.0, 25.0, 1.0, 1.0, 0.0, 1.0, 24.0, 110.0, 38.0, 174.0, 0.0, 108.0, 1051.0, 6.0, 24.0, 15.0, 204.0, 113.0, 478.0, 165.0, 0.0, 12.0, 119.0, 51.0, 42.0, 31.0, 125.0, 11.0, 145.0], [0.0, 24.0, 40.0, 0.0, 0.0, 4.0, 28.0, 43.0, 2.0, 57.0, 240.0, 72.0, 530.0, 62.0, 6.0, 2.0, 12.0, 46.0, 598.0, 743.0, 30.0, 107.0, 0.0, 159.0, 474.0, 70.0, 75.0, 12.0, 105.0, 29.0, 390.0, 6.0, 2.0, 14.0, 813.0, 194.0, 23.0, 55.0, 279.0, 16.0, 137.0], [0.0, 1.0, 0.0, 0.0, 0.0, 2.0, 1.0, 3.0, 0.0, 17.0, 99.0, 20.0, 108.0, 9.0, 5.0, 0.0, 0.0, 1.0, 262.0, 12.0, 11.0, 15.0, 0.0, 11.0, 51.0, 1.0, 4.0, 0.0, 35.0, 10.0, 104.0, 0.0, 2.0, 1.0, 22.0, 44.0, 40.0, 12.0, 116.0, 5.0, 15.0], [0.0, 10.0, 3.0, 12.0, 2.0, 0.0, 3.0, 16.0, 36.0, 10.0, 74.0, 12.0, 222.0, 22.0, 3.0, 12.0, 1.0, 2.0, 80.0, 26.0, 9.0, 221.0, 17.0, 26.0, 26.0, 3.0, 75.0, 12.0, 7.0, 87.0, 320.0, 0.0, 43.0, 10.0, 70.0, 57.0, 14.0, 1.0, 52.0, 7.0, 31.0], [0.0, 10.0, 1.0, 0.0, 0.0, 1.0, 0.0, 2.0, 1.0, 15.0, 64.0, 7.0, 101.0, 8.0, 1.0, 1.0, 1.0, 0.0, 86.0, 11.0, 11.0, 117.0, 7.0, 22.0, 51.0, 2.0, 60.0, 5.0, 23.0, 13.0, 40.0, 16.0, 0.0, 0.0, 177.0, 71.0, 5.0, 1.0, 65.0, 3.0, 70.0], [0.0, 3.0, 2.0, 0.0, 1.0, 0.0, 0.0, 12.0, 0.0, 19.0, 69.0, 14.0, 151.0, 26.0, 2.0, 0.0, 3.0, 5.0, 337.0, 38.0, 12.0, 26.0, 0.0, 496.0, 134.0, 6.0, 52.0, 7.0, 17.0, 13.0, 163.0, 3.0, 0.0, 13.0, 95.0, 44.0, 8.0, 5.0, 63.0, 9.0, 121.0], [0.0, 2.0, 6.0, 1.0, 0.0, 5.0, 1.0, 13.0, 3.0, 63.0, 130.0, 4.0, 237.0, 19.0, 8.0, 2.0, 11.0, 1.0, 231.0, 116.0, 7.0, 35.0, 1.0, 100.0, 53.0, 10.0, 18.0, 6.0, 61.0, 18.0, 236.0, 2.0, 0.0, 2.0, 61.0, 92.0, 11.0, 3.0, 94.0, 12.0, 132.0], [0.0, 3.0, 3.0, 0.0, 0.0, 0.0, 3.0, 1.0, 0.0, 10.0, 35.0, 10.0, 79.0, 8.0, 5.0, 0.0, 1.0, 8.0, 127.0, 68.0, 5.0, 14.0, 0.0, 25.0, 108.0, 12.0, 16.0, 1.0, 21.0, 3.0, 73.0, 1.0, 1.0, 3.0, 30.0, 56.0, 9.0, 1.0, 65.0, 5.0, 62.0], [0.0, 27.0, 10.0, 13.0, 3.0, 9.0, 2.0, 206.0, 5.0, 86.0, 174.0, 31.0, 308.0, 36.0, 22.0, 17.0, 2.0, 1.0, 390.0, 60.0, 25.0, 377.0, 10.0, 126.0, 136.0, 52.0, 533.0, 23.0, 105.0, 77.0, 218.0, 40.0, 3.0, 29.0, 198.0, 153.0, 31.0, 7.0, 221.0, 13.0, 103.0], [0.0, 18.0, 2.0, 9.0, 0.0, 2.0, 0.0, 40.0, 1.0, 10.0, 71.0, 27.0, 462.0, 11.0, 2.0, 3.0, 5.0, 0.0, 139.0, 43.0, 2.0, 129.0, 5.0, 138.0, 37.0, 0.0, 58.0, 33.0, 7.0, 48.0, 129.0, 11.0, 11.0, 212.0, 82.0, 71.0, 13.0, 2.0, 55.0, 2.0, 46.0], [0.0, 0.0, 9.0, 0.0, 0.0, 45.0, 2.0, 9.0, 1.0, 73.0, 41.0, 5.0, 115.0, 17.0, 3.0, 2.0, 1.0, 1.0, 270.0, 25.0, 13.0, 48.0, 0.0, 16.0, 61.0, 3.0, 10.0, 2.0, 292.0, 10.0, 63.0, 0.0, 1.0, 1.0, 37.0, 34.0, 3.0, 8.0, 77.0, 4.0, 59.0], [0.0, 1.0, 0.0, 7.0, 3.0, 3.0, 1.0, 77.0, 3.0, 34.0, 104.0, 36.0, 308.0, 52.0, 11.0, 10.0, 0.0, 1.0, 557.0, 34.0, 25.0, 59.0, 0.0, 64.0, 76.0, 9.0, 90.0, 23.0, 62.0, 389.0, 225.0, 2.0, 21.0, 6.0, 133.0, 73.0, 14.0, 16.0, 162.0, 13.0, 74.0], [0.0, 11.0, 13.0, 5.0, 6.0, 8.0, 59.0, 135.0, 5.0, 100.0, 215.0, 39.0, 560.0, 49.0, 12.0, 7.0, 5.0, 14.0, 764.0, 256.0, 42.0, 157.0, 0.0, 266.0, 477.0, 62.0, 134.0, 19.0, 59.0, 88.0, 1326.0, 5.0, 0.0, 19.0, 397.0, 193.0, 87.0, 30.0, 439.0, 35.0, 209.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 5.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 3.0, 0.0, 0.0, 1.0, 0.0, 2.0, 3.0, 0.0, 1.0, 0.0, 0.0, 0.0, 2.0, 1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0], [0.0, 1.0, 0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 0.0, 14.0, 45.0, 51.0, 407.0, 18.0, 0.0, 1.0, 0.0, 0.0, 470.0, 23.0, 23.0, 46.0, 0.0, 37.0, 37.0, 8.0, 76.0, 14.0, 23.0, 79.0, 103.0, 0.0, 16.0, 0.0, 395.0, 95.0, 8.0, 1.0, 101.0, 2.0, 37.0], [0.0, 22.0, 11.0, 7.0, 0.0, 0.0, 13.0, 58.0, 5.0, 10.0, 42.0, 0.0, 139.0, 7.0, 1.0, 5.0, 6.0, 4.0, 71.0, 35.0, 1.0, 4.0, 0.0, 110.0, 72.0, 4.0, 96.0, 12.0, 7.0, 13.0, 105.0, 1.0, 0.0, 2.0, 44.0, 27.0, 136.0, 0.0, 132.0, 12.0, 376.0], [0.0, 7.0, 21.0, 3.0, 9.0, 6.0, 5.0, 14.0, 4.0, 76.0, 152.0, 18.0, 314.0, 39.0, 8.0, 0.0, 9.0, 25.0, 601.0, 217.0, 22.0, 48.0, 0.0, 103.0, 196.0, 17.0, 30.0, 6.0, 154.0, 44.0, 345.0, 5.0, 1.0, 4.0, 591.0, 108.0, 27.0, 39.0, 163.0, 16.0, 138.0], [0.0, 18.0, 0.0, 0.0, 6.0, 2.0, 4.0, 10.0, 7.0, 55.0, 449.0, 113.0, 588.0, 10.0, 4.0, 0.0, 0.0, 3.0, 250.0, 23.0, 17.0, 66.0, 1.0, 62.0, 138.0, 0.0, 19.0, 15.0, 23.0, 15.0, 115.0, 1.0, 1.0, 0.0, 52.0, 288.0, 26.0, 29.0, 211.0, 30.0, 70.0], [0.0, 27.0, 2.0, 0.0, 0.0, 3.0, 1.0, 15.0, 4.0, 28.0, 473.0, 23.0, 206.0, 25.0, 11.0, 2.0, 6.0, 1.0, 312.0, 32.0, 145.0, 19.0, 0.0, 74.0, 327.0, 16.0, 12.0, 2.0, 40.0, 20.0, 261.0, 2.0, 0.0, 17.0, 60.0, 176.0, 0.0, 35.0, 449.0, 457.0, 165.0], [0.0, 6.0, 6.0, 1.0, 4.0, 6.0, 4.0, 11.0, 0.0, 85.0, 247.0, 435.0, 760.0, 47.0, 7.0, 2.0, 0.0, 0.0, 820.0, 133.0, 48.0, 73.0, 1.0, 55.0, 97.0, 1.0, 11.0, 7.0, 141.0, 66.0, 227.0, 3.0, 5.0, 1.0, 97.0, 193.0, 12.0, 69.0, 235.0, 21.0, 61.0], [0.0, 36.0, 1.0, 2.0, 0.0, 2.0, 2.0, 12.0, 8.0, 48.0, 395.0, 14.0, 268.0, 11.0, 3.0, 1.0, 1.0, 2.0, 239.0, 42.0, 101.0, 32.0, 0.0, 58.0, 245.0, 11.0, 24.0, 9.0, 45.0, 19.0, 258.0, 1.0, 0.0, 40.0, 89.0, 138.0, 230.0, 42.0, 556.0, 405.0, 108.0], [0.0, 4.0, 2.0, 0.0, 1.0, 4.0, 0.0, 10.0, 1.0, 24.0, 422.0, 48.0, 193.0, 11.0, 8.0, 2.0, 0.0, 3.0, 338.0, 25.0, 1.0, 35.0, 0.0, 46.0, 132.0, 1.0, 5.0, 5.0, 73.0, 18.0, 197.0, 3.0, 0.0, 3.0, 37.0, 139.0, 136.0, 31.0, 220.0, 1.0, 65.0], [0.0, 3.0, 3.0, 1.0, 0.0, 3.0, 0.0, 9.0, 2.0, 41.0, 88.0, 6.0, 93.0, 11.0, 6.0, 1.0, 3.0, 1.0, 146.0, 23.0, 3.0, 18.0, 3.0, 90.0, 381.0, 14.0, 13.0, 4.0, 34.0, 9.0, 261.0, 1.0, 0.0, 8.0, 77.0, 82.0, 19.0, 0.0, 74.0, 7.0, 23.0]];

var chord = d3.layout.chord()
    .padding(.05)
    .sortSubgroups(d3.descending)
    .matrix(matrix);

var width = 1200,
    height = 1200,
    innerRadius = Math.min(width, height) * .14,
    outerRadius = innerRadius * 1.1;

var fill = d3.scale.ordinal()
    .domain(d3.range(4))
    .range(["#3182bd", "#9370DB", "#90EE90", "#F4A460"]);

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height)
  .append("g")
.attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

var names = ['ACUTE KIDNEY FAILURE WITH LESION OF TUBULAR NECROSIS',
 'ACUTE MYOCARDIAL INFARCTION OF ANTEROLATERAL WALL EPISODE',
 'ACUTE PANCREATITIS',
 'ATHEROSCLEROSIS OF AORTA',
 'BASILAR ARTERY SYNDROME',
 'BIPOLAR I DISORDER, SINGLE MANIC EPISODE, UNSPECIFIED',
 'CALCULUS OF GALLBLADDER',
 'CELLULITIS AND ABSCESS OF FACE',
 'CEREBRAL THROMBOSIS WITHOUT CEREBRAL INFARCTION',
 'COMA,DIZZINESS,FEVER,SLEEP',
 'CONGESTIVE HEART FAILURE UNSPECIFIED',
 'CORONARY ATHEROSCLEROSIS',
 'Circulatory',
 'DIABETES NEUROLOGICAL MANIFESTATIONS, TYPE II OR UNSPECIFIED TYPE',
 'DIABETES OTHER SPECIFIED MANIFESTATIONS',
 'DIABETES PERIPHERAL CIRCULATORY DISORDERS, TYPE II OR UNSPECIFIED TYPE',
 'DIABETES WITH KETOACIDOSIS, TYPE I [JUVENILE TYPE]',
 'DIVERTICULOSIS OF SMALL INTESTINE (WITHOUT HEMORRHAGE)',
 'Diabetes',
 'Digestive',
 'EXTRINSIC ASTHMA UNSPECIFIED',
 'External causes',
 'FRACTURE OF UNSPECIFIED INTRACAPSULAR SECTION OF NECK OF FEMUR CLOSED',
 'Genitourinary',
 'HYPEROSMOLALITY AND/OR HYPERNATREMIA',
 'INTUSSUSCEPTION',
 'Injury',
 'MECHANICAL COMPLICATIONS OF UNSPECIFIED CARDIAC DEVICE IMPLANT AND GRAFT',
 'Mental',
 'Musculoskeletal',
 'Neoplasms',
 'No_data',
 'OSTEOARTHROSIS GENERALIZED INVOLVING UNSPECIFIED SITE',
 'Obesity BODY MASS INDEX 38.0-38.9',
 'Other',
 'PAROXYSMAL SUPRAVENTRICULAR TACHYCARDIA',
 'PNEUMONIA ORGANISM UNSPECIFIED',
 'RESPIRATORY ABNORMALITY UNSPECIFIED',
 'Respiratory',
 'SIMPLE CHRONIC BRONCHITIS',
 'URINARY TRACT INFECTION SITE NOT SPECIFIED'];

svg.append("g").selectAll("path")
    .data(chord.groups)
  .enter().append("path")
//.style("fill", function(d) { return fill(d.index); })
    .style("fill", function(d) { return fill(d.value); })
//.style("stroke", function(d) { return fill(d.index); })
    .style("stroke", function(d) { return fill(d.value); })
    .attr("d", d3.svg.arc().innerRadius(innerRadius).outerRadius(outerRadius))
    .on("mouseover", fade(.1))
    .on("mouseout", fade(1));

var ticks = svg.append("g").selectAll("g")
    .data(chord.groups)
  .enter().append("g").selectAll("g")
    .data(groupTicks)
  .enter().append("g")
    .attr("transform", function(d) {
      return "rotate(" + (d.angle * 180 / Math.PI - 90) + ")"
          + "translate(" + outerRadius + ",0)";
    });

ticks.append("line")
    .attr("x1", 1)
    .attr("y1", 0)
    .attr("x2", 5)
    .attr("y2", 0)
    .style("stroke", "#1FF");

ticks.append("text")
    .attr("x", 8)
    .attr("dy", ".35em")
    .attr("transform", function(d) { return d.angle > Math.PI ? "rotate(180)translate(-16)" : null; })
    .style("text-anchor", function(d) { return d.angle > Math.PI ? "end" : null; })
//.text(function(d, i) { return names[i]; });
 .text(function(d) { return d.label; });

svg.append("g")
    .attr("class", "chord")
  .selectAll("path")
    .data(chord.chords)
.enter().append("path")
.attr("d", d3.svg.chord().radius(innerRadius))
//.style("fill", function(d) { return fill(d.target.index); })
   .style("fill", function(d) { return fill(d.value); })
    .style("opacity", .8);

// Returns an array of tick angles and labels, given a group.
function groupTicks(d) {
  var k = (d.endAngle - d.startAngle) / d.value;
  return d3.range(0, d.value, 20000).map(function(v, i) {
    return {
      angle: v * k + d.startAngle,
      label: names[d.index] 
    };
  });
}

// Returns an event handler for fading a given chord group.
function fade(opacity) {
  return function(g, i) {
    svg.selectAll(".chord path")
        .filter(function(d) { return d.source.index != i && d.target.index != i; })
      .transition()
        .style("opacity", opacity);
  };
}

</script>
